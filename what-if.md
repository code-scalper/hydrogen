---

**🔹포함 항목**

- **입력 변수명 / 설명 / 단위 / 최소값 / 최대값 / 기본값 / 형식(Number, Select 등)**
- **출력 변수명 / 설명 / 데이터 파일**
- **요구 기능 리스트 (F-ID 포함)**
- **What-if 결과 그래프: 3차원 Plot 처리 반영 (X/Y/Z축 정의 포함)**

---

**🧩 수소충전소 시뮬레이터 기능 설계 상세 사양서 (FULL)**

---

**🔷 What-if 기능**

---

**[화면 ID] What-if (기본 정보 탭)**

**■ 입력 변수 리스트**

| **변수명** | **설명**              | **단위** | **최소값** | **최대값** | **기본값** | **형식** | **선택 항목 / 상세 조건**                               |
| :--------- | :-------------------- | :------- | :--------- | :--------- | :--------- | :------- | :------------------------------------------------------ |
| N_InSelec  | 입력 조합 선택        | -        | 1          | 3          | 1          | Select   | (1) T_AmbC+T_BaC / (2) T_AmbC+P_Tk0C / (3) T_BaC+P_Tk0C |
| N_OutSelec | 출력 선택             | -        | 1          | 2          | 1          | Select   | (1) T_TkMax / (2) t_Elep                                |
| T_AmbC_Min | 외기온도 최소값       | ℃        | -40        | 50         | -40        | Number   | -                                                       |
| T_AmbC_Max | 외기온도 최대값       | ℃        | -40        | 50         | 50         | Number   | -                                                       |
| T_BaC_Min  | Bank 온도 최소값      | ℃        | -40        | -17.5      | -40        | Number   | -                                                       |
| T_BaC_Max  | Bank 온도 최대값      | ℃        | -40        | -17.5      | -17.5      | Number   | -                                                       |
| P_Tk0C_Min | Tank 초기 압력 최소값 | MPa      | 0\.5       | 70         | 0\.5       | Number   | -                                                       |
| T_Tk0C_Max | Tank 초기 압력 최대값 | MPa      | 0\.5       | 70         | 20         | Number   | -                                                       |
| MaxIter    | 반복 계산 횟수        | -        | 1          | 99999      | 2          | Number   | -                                                       |

**■ 출력 변수 리스트**

| **출력 변수명**     | **설명**                                      | **데이터 파일**  | **출력 형태**                                             |
| :------------------ | :-------------------------------------------- | :--------------- | :-------------------------------------------------------- |
| What-if 결과 그래프 | 입력 변수 조합별 3차원 시뮬레이션 결과 그래프 | Output_Total.csv | 3D Surface Plot (X=T_AmbC, Y=P_Tk0C, Z=T_TkMax or t_Elep) |

**■ 요구 기능 리스트**

| **기능 ID** | **기능명**       | **기능 설명**                                                                                  |
| :---------- | :--------------- | :--------------------------------------------------------------------------------------------- |
| F01         | 탭 구성          | “What-if 기본정보”, “수소충전기 1”, “수소자동차 용기 1” 탭을 구성, 탭 선택 시 해당 화면 활성화 |
| F02         | 입력 저장        | 저장 클릭 시 입력 변수 저장 및 3D 그래프 출력 트리거                                           |
| F03         | 취소 기능        | 취소 클릭 시 데이터 미저장 후 팝업 종료                                                        |
| F04         | 변수 범위 툴팁   | 각 변수 옆 툴팁 아이콘 클릭 시 허용 범위 표시, 재클릭 시 닫힘                                  |
| F05         | 기본값 자동 설정 | 모든 변수 필드 초기 진입 시 기본값 자동 채움                                                   |
| F06         | 입력 검증        | 각 수치 입력 시 최소~최대 범위 검증 및 경고 메시지 표시                                        |
| F07         | 드롭다운 처리    | N_InSelec, N_OutSelec 항목을 Select Box로 구성                                                 |
| F08         | 팝업 활성화      | 메인화면에서 “What-if” 버튼 클릭 시 팝업 표시                                                  |

---

**[화면 ID] What-if (수소충전기 1 탭)**

**■ 입력 변수 리스트**

| **변수명** | **설명**                  | **단위** | **최소값** | **최대값** | **기본값** | **형식** | **선택 항목 / 상세 조건**                                        |
| :--------- | :------------------------ | :------- | :--------- | :--------- | :--------- | :------- | :--------------------------------------------------------------- |
| EA_Disp1   | 동일 종류 Dispenser 개수  | ea       | 1          | -          | 1          | Number   | -                                                                |
| P_Class1   | 충전소 압력등급           | MPa      | 35         | 70         | 70         | Select   | (1) 35MPa / (2) 70MPa                                            |
| T_BaC1     | 공급 가스 온도            | ℃        | -273.15    | 50         | -40        | Number   | -                                                                |
| m_HFPLim1  | 충전 유량 상한            | g/s      | 60         | 300        | 60         | Number   | -                                                                |
| t_BrkMax1  | 충전과 충전 사이 준비시간 | s        | 0          | -          | 150        | Number   | -                                                                |
| HFPMode1   | 충전프로토콜 모드         | -        | 1          | 3          | 1          | Select   | (1) SAE J2601 룩업테이블 / (2) SAE J2601 MC메쏘드 / (3) MERI RTR |
| ComOn1     | 충전 통신 여부            | -        | 0          | 1          | 0          | Select   | (0) 비충전 통신 / (1) 충전 통신                                  |
| Kv_Max1    | FCV 완전개방 유량계수     | m³/h     | 0          | -          | 1          | Number   | -                                                                |
| dP_BkCh1   | Bank Change 실행 차압     | MPa      | 0          | -          | 0          | Number   | -                                                                |
| COP1       | PreCooler의 성능계수      | -        | 1\.5       | 3\.5       | 3          | Number   | -                                                                |

**■ 출력 변수 리스트**

| **출력 변수명**     | **설명**                                           | **데이터 파일**  | **출력 형태**                                                |
| :------------------ | :------------------------------------------------- | :--------------- | :----------------------------------------------------------- |
| What-if 결과 그래프 | 충전기 운전 변수 변화에 따른 3차원 시뮬레이션 결과 | Output_Total.csv | 3D Surface Plot (X=m_HFPLim1, Y=T_BaC1, Z=t_Elep or T_TkMax) |

**■ 요구 기능 리스트**

| **기능 ID** | **기능명**       | **기능 설명**                                 |
| :---------- | :--------------- | :-------------------------------------------- |
| F09         | 탭 활성화        | “수소충전기 1” 탭 선택 시 해당 변수 활성화    |
| F10         | 데이터 저장      | 저장 클릭 시 변수 저장 후 결과 3D 그래프 생성 |
| F11         | 취소             | 팝업 종료 및 데이터 미저장                    |
| F12         | 툴팁 표시        | 변수별 입력범위 툴팁 지원                     |
| F13         | 유효성 검증      | 단위 및 최소·최대 범위 검증 처리              |
| F14         | 기본값 로드      | 기본값 자동 로드 기능                         |
| F15         | 3D 그래프 트리거 | 저장 후 3D 결과 그래프 호출 및 렌더링         |

---

**[화면 ID] What-if (수소자동차 용기 1 탭)**

**■ 입력 변수 리스트**

| **변수명** | **설명**            | **단위** | **최소값** | **최대값** | **기본값** | **형식** | **선택 항목 / 상세 조건**            |
| :--------- | :------------------ | :------- | :--------- | :--------- | :--------- | :------- | :----------------------------------- |
| V_TkMode1  | Tank 종류           | -        | 11         | 12         | 11         | Select   | (11) 넥소 / (12) 일렉시티            |
| TVL1       | 가장 큰 용기의 부피 | L        | 0          | -          | 174        | Number   | -                                    |
| TV1        | 전체 용기 부피      | L        | 0          | -          | 174        | Number   | -                                    |
| P_Tk_01    | Tank 초기 압력      | MPa      | 0          | 70         | 5          | Number   | -                                    |
| SOC_G1     | 목표 SOC            | %        | 0          | 100        | 95         | Number   | -                                    |
| T_Tk_0C1   | Tank 초기 온도      | ℃        | -273.15    | 50         | 999        | Number   | “999” 입력 시 외기온도(T_Amb)로 간주 |

**■ 출력 변수 리스트**

| **출력 변수명**     | **설명**                                    | **데이터 파일**  | **출력 형태**                                              |
| :------------------ | :------------------------------------------ | :--------------- | :--------------------------------------------------------- |
| What-if 결과 그래프 | 용기 온도/압력/충전율 변화에 따른 3D 그래프 | Output_Total.csv | 3D Surface Plot (X=P_Tk_01, Y=SOC_G1, Z=t_Elep or T_TkMax) |

**■ 요구 기능 리스트**

| **기능 ID** | **기능명**  | **기능 설명**                                |
| :---------- | :---------- | :------------------------------------------- |
| F16         | 탭 활성화   | “수소자동차 용기 1” 탭 선택 시 활성화        |
| F17         | 입력 저장   | 저장 클릭 시 데이터 저장 및 3D 그래프 렌더링 |
| F18         | 취소        | 팝업 종료                                    |
| F19         | 툴팁 표시   | 변수별 입력 범위 툴팁 표시                   |
| F20         | 기본값 설정 | 필드 기본값 자동 적용                        |
| F21         | 입력 검증   | 단위 및 범위 확인 로직 실행                  |

---

**[화면 ID] What-if (결과 그래프 팝업 화면)**

**■ 출력 변수 리스트**

| **출력 변수명** | **설명**                              | **데이터 출처**  | **출력 형태**                          |
| :-------------- | :------------------------------------ | :--------------- | :------------------------------------- |
| 그래프 데이터   | What-if 입력 조합 결과                | Output_Total.csv | 3D Surface Plot (X, Y, Z 축 구성 가능) |
| 좌표 표시값     | 마우스 오버 시 해당 X, Y, Z 좌표 출력 | UI 이벤트        | Tooltip                                |

**■ 요구 기능 리스트**

| **기능 ID** | **기능명**         | **기능 설명**                                 |
| :---------- | :----------------- | :-------------------------------------------- |
| F22         | 3D 그래프 표시     | What-if 결과를 3차원 Surface Plot 형태로 표시 |
| F23         | 그래프 이미지 저장 | JPG, PNG 파일로 저장 기능                     |
| F24         | 그래프 회전 / 줌   | 3D 그래프 인터랙션(회전, 확대, 축소) 지원     |
| F25         | 좌표 표시 기능     | 마우스 오버 시 좌표(X,Y,Z) 표시               |
| F26         | 취소               | 팝업 종료                                     |

---
